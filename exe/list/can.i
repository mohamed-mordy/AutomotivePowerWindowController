#line 1 "driverlib\\can.c"














































#line 1 "C:\\Keil_v5\\ARM\\ARMCC\\Bin\\..\\include\\stdbool.h"
 






 





#line 25 "C:\\Keil_v5\\ARM\\ARMCC\\Bin\\..\\include\\stdbool.h"



#line 48 "driverlib\\can.c"
#line 1 "C:\\Keil_v5\\ARM\\ARMCC\\Bin\\..\\include\\stdint.h"
 
 





 









     
#line 27 "C:\\Keil_v5\\ARM\\ARMCC\\Bin\\..\\include\\stdint.h"
     











#line 46 "C:\\Keil_v5\\ARM\\ARMCC\\Bin\\..\\include\\stdint.h"





 

     

     
typedef   signed          char int8_t;
typedef   signed short     int int16_t;
typedef   signed           int int32_t;
typedef   signed       __int64 int64_t;

     
typedef unsigned          char uint8_t;
typedef unsigned short     int uint16_t;
typedef unsigned           int uint32_t;
typedef unsigned       __int64 uint64_t;

     

     
     
typedef   signed          char int_least8_t;
typedef   signed short     int int_least16_t;
typedef   signed           int int_least32_t;
typedef   signed       __int64 int_least64_t;

     
typedef unsigned          char uint_least8_t;
typedef unsigned short     int uint_least16_t;
typedef unsigned           int uint_least32_t;
typedef unsigned       __int64 uint_least64_t;

     

     
typedef   signed           int int_fast8_t;
typedef   signed           int int_fast16_t;
typedef   signed           int int_fast32_t;
typedef   signed       __int64 int_fast64_t;

     
typedef unsigned           int uint_fast8_t;
typedef unsigned           int uint_fast16_t;
typedef unsigned           int uint_fast32_t;
typedef unsigned       __int64 uint_fast64_t;

     




typedef   signed           int intptr_t;
typedef unsigned           int uintptr_t;


     
typedef   signed     long long intmax_t;
typedef unsigned     long long uintmax_t;




     

     





     





     





     

     





     





     





     

     





     





     





     

     






     






     






     

     


     


     


     

     
#line 216 "C:\\Keil_v5\\ARM\\ARMCC\\Bin\\..\\include\\stdint.h"

     



     






     
    
 



#line 241 "C:\\Keil_v5\\ARM\\ARMCC\\Bin\\..\\include\\stdint.h"

     







     










     











#line 305 "C:\\Keil_v5\\ARM\\ARMCC\\Bin\\..\\include\\stdint.h"






 
#line 49 "driverlib\\can.c"
#line 1 "./inc/hw_can.h"















































#line 55 "./inc/hw_can.h"
                                            
#line 86 "./inc/hw_can.h"






#line 99 "./inc/hw_can.h"











                                            
#line 120 "./inc/hw_can.h"

















#line 145 "./inc/hw_can.h"















#line 169 "./inc/hw_can.h"























#line 201 "./inc/hw_can.h"











































#line 255 "./inc/hw_can.h"















































#line 311 "./inc/hw_can.h"











































#line 365 "./inc/hw_can.h"

































































































#line 50 "driverlib\\can.c"
#line 1 "./inc/hw_ints.h"
















































#line 58 "./inc/hw_ints.h"






#line 94 "./inc/hw_ints.h"
                                            
#line 170 "./inc/hw_ints.h"






#line 244 "./inc/hw_ints.h"
                                            
#line 283 "./inc/hw_ints.h"






#line 339 "./inc/hw_ints.h"













#line 475 "./inc/hw_ints.h"
















#line 51 "driverlib\\can.c"
#line 1 "./inc/hw_nvic.h"

















































                                            
#line 117 "./inc/hw_nvic.h"
                                            
#line 137 "./inc/hw_nvic.h"
                                            


                                            


                                            
#line 152 "./inc/hw_nvic.h"
                                            







                                            




                                            
















































































































































































































#line 382 "./inc/hw_nvic.h"






#line 396 "./inc/hw_nvic.h"






#line 410 "./inc/hw_nvic.h"






#line 424 "./inc/hw_nvic.h"






#line 438 "./inc/hw_nvic.h"






#line 452 "./inc/hw_nvic.h"






#line 466 "./inc/hw_nvic.h"






#line 480 "./inc/hw_nvic.h"






#line 494 "./inc/hw_nvic.h"






#line 508 "./inc/hw_nvic.h"






#line 522 "./inc/hw_nvic.h"






#line 536 "./inc/hw_nvic.h"






#line 550 "./inc/hw_nvic.h"






#line 564 "./inc/hw_nvic.h"






#line 578 "./inc/hw_nvic.h"






#line 592 "./inc/hw_nvic.h"






#line 606 "./inc/hw_nvic.h"






#line 620 "./inc/hw_nvic.h"






#line 634 "./inc/hw_nvic.h"






#line 648 "./inc/hw_nvic.h"






#line 662 "./inc/hw_nvic.h"






#line 676 "./inc/hw_nvic.h"






#line 690 "./inc/hw_nvic.h"






#line 704 "./inc/hw_nvic.h"






#line 718 "./inc/hw_nvic.h"






#line 732 "./inc/hw_nvic.h"






#line 746 "./inc/hw_nvic.h"






#line 760 "./inc/hw_nvic.h"






#line 774 "./inc/hw_nvic.h"






#line 788 "./inc/hw_nvic.h"






#line 802 "./inc/hw_nvic.h"






#line 816 "./inc/hw_nvic.h"






#line 830 "./inc/hw_nvic.h"







                                            

                                            

                                            

                                            











                                            

                                            

                                            

                                            










#line 879 "./inc/hw_nvic.h"






#line 912 "./inc/hw_nvic.h"














#line 941 "./inc/hw_nvic.h"
















                                            

                                            










#line 976 "./inc/hw_nvic.h"














#line 996 "./inc/hw_nvic.h"







#line 1018 "./inc/hw_nvic.h"







#line 1031 "./inc/hw_nvic.h"
                                            


                                            
#line 1041 "./inc/hw_nvic.h"
                                            

                                            
                                            


















































                                            




                                            

















































#line 1201 "./inc/hw_nvic.h"

















#line 1230 "./inc/hw_nvic.h"

















#line 1259 "./inc/hw_nvic.h"

















#line 1288 "./inc/hw_nvic.h"






#line 1300 "./inc/hw_nvic.h"
                                            
#line 1311 "./inc/hw_nvic.h"






#line 1340 "./inc/hw_nvic.h"














#line 1365 "./inc/hw_nvic.h"















                                            
#line 1389 "./inc/hw_nvic.h"














#line 1409 "./inc/hw_nvic.h"
                                            

                                            


#line 52 "driverlib\\can.c"
#line 1 "./inc/hw_memmap.h"
















































#line 116 "./inc/hw_memmap.h"
                                            

                                            

                                            
#line 141 "./inc/hw_memmap.h"
                                            

                                            
#line 150 "./inc/hw_memmap.h"

#line 53 "driverlib\\can.c"
#line 1 "./inc/hw_sysctl.h"















































#line 67 "./inc/hw_sysctl.h"
                                            





                                            



                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            



                                            

                                            


                                            

                                            
#line 124 "./inc/hw_sysctl.h"
                                            


                                            

                                            

                                            

                                            



                                            
                                            

                                            

                                            

                                            


                                            

                                            

                                            

                                            

                                            

                                            

                                            



                                            

                                            

                                            




                                            


                                            

                                            

                                            



                                            
                                            

                                            

                                            

                                            


                                            

                                            


                                            

                                            


                                            

                                            




                                            

                                            

                                            

                                            

                                            

                                            

                                            
                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            
                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            
                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            
                                            

                                            

                                            

                                            

                                            

                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            

                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            

                                            

                                            
                                            

                                            
                                            

                                            

                                            

                                            
                                            

                                            

                                            
                                            

                                            
                                            

                                            

                                            

                                            


                                            

                                            

                                            

                                            


                                            
                                            

                                            

                                            

                                            


                                            

                                            


                                            

                                            


                                            





                                            

                                            

                                            



                                            
                                            

                                            

                                            

                                            


                                            

                                            

                                            

                                            

                                            


                                            

                                            
#line 433 "./inc/hw_sysctl.h"
                                            








                                            



                                            


                                            



                                            

                                            


                                            








#line 623 "./inc/hw_sysctl.h"
                                            
                                            
                                            
#line 634 "./inc/hw_sysctl.h"






#line 659 "./inc/hw_sysctl.h"






#line 674 "./inc/hw_sysctl.h"
                                            

                                            

                                            

                                            

                                            
#line 701 "./inc/hw_sysctl.h"






#line 727 "./inc/hw_sysctl.h"






#line 764 "./inc/hw_sysctl.h"






#line 787 "./inc/hw_sysctl.h"






#line 807 "./inc/hw_sysctl.h"

















#line 855 "./inc/hw_sysctl.h"






#line 893 "./inc/hw_sysctl.h"














#line 919 "./inc/hw_sysctl.h"
                                            
#line 928 "./inc/hw_sysctl.h"






#line 942 "./inc/hw_sysctl.h"






#line 964 "./inc/hw_sysctl.h"






#line 981 "./inc/hw_sysctl.h"







                                            

                                            

                                            

                                            


                                            

                                            

                                            






#line 1014 "./inc/hw_sysctl.h"
                                            









                                            

                                            

                                            

                                            


                                            


                                            






#line 1051 "./inc/hw_sysctl.h"














#line 1108 "./inc/hw_sysctl.h"






#line 1120 "./inc/hw_sysctl.h"








                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            








                                            
#line 1166 "./inc/hw_sysctl.h"


















#line 1194 "./inc/hw_sysctl.h"
                                            
#line 1205 "./inc/hw_sysctl.h"
                                            
#line 1214 "./inc/hw_sysctl.h"






#line 1257 "./inc/hw_sysctl.h"






#line 1287 "./inc/hw_sysctl.h"






#line 1309 "./inc/hw_sysctl.h"






#line 1326 "./inc/hw_sysctl.h"






#line 1341 "./inc/hw_sysctl.h"






#line 1363 "./inc/hw_sysctl.h"






#line 1380 "./inc/hw_sysctl.h"






#line 1394 "./inc/hw_sysctl.h"






#line 1416 "./inc/hw_sysctl.h"






#line 1433 "./inc/hw_sysctl.h"







#line 1446 "./inc/hw_sysctl.h"
                                            


                                            







#line 1466 "./inc/hw_sysctl.h"







#line 1489 "./inc/hw_sysctl.h"






#line 1504 "./inc/hw_sysctl.h"





























                                            

                                            

                                            








































#line 1592 "./inc/hw_sysctl.h"







#line 1615 "./inc/hw_sysctl.h"






#line 1637 "./inc/hw_sysctl.h"







                                            







#line 1668 "./inc/hw_sysctl.h"







#line 1697 "./inc/hw_sysctl.h"











                                            
                                            


                                            
                                            
                                            




                                            
                                            


                                            
                                            
                                            




                                            
                                            


                                            
                                            
                                            




                                            
                                            


                                            
                                            
                                            
















#line 1776 "./inc/hw_sysctl.h"






#line 1788 "./inc/hw_sysctl.h"






#line 1806 "./inc/hw_sysctl.h"




































                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            






#line 1881 "./inc/hw_sysctl.h"



























#line 1916 "./inc/hw_sysctl.h"
















#line 1942 "./inc/hw_sysctl.h"


























































































                                            

                                            

                                            

                                            

                                            

                                            














                                            





















                                            






















                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            






#line 2141 "./inc/hw_sysctl.h"





















                                            






#line 2177 "./inc/hw_sysctl.h"
















#line 2203 "./inc/hw_sysctl.h"














                                            























                                            
































                                            

                                            

                                            

                                            

                                            

                                            







                                            





















                                            







                                            

                                            








                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            








                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            







                                            







                                            







                                            








                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            







                                            

                                            

                                            

                                            







                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            







                                            








                                            







                                            

                                            







                                            

                                            








                                            







                                            

                                            







                                            

                                            








                                            








                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            







                                            







                                            








                                            








                                            







                                            

                                            








                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            








                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            







                                            







                                            







                                            








                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            







                                            

                                            

                                            

                                            







                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            







                                            








                                            







                                            

                                            







                                            

                                            








                                            







                                            

                                            







                                            

                                            








                                            








                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            







                                            







                                            








                                            








                                            







                                            

                                            








                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            








                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            







                                            







                                            







                                            








                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            







                                            

                                            

                                            

                                            







                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            







                                            








                                            







                                            

                                            







                                            

                                            








                                            
                                            







                                            

                                            







                                            

                                            








                                            








                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            







                                            
                                            







                                            
                                            








                                            








                                            















                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            






#line 3279 "./inc/hw_sysctl.h"



























#line 3314 "./inc/hw_sysctl.h"
















#line 3340 "./inc/hw_sysctl.h"














                                            























                                            





























                                            







                                            














                                            







                                            

                                            







                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            






#line 3488 "./inc/hw_sysctl.h"





















                                            






#line 3524 "./inc/hw_sysctl.h"
















#line 3550 "./inc/hw_sysctl.h"














                                            























                                            
































                                            

                                            

                                            

                                            

                                            

                                            







                                            







                                            














                                            






























































                                            


                                            




















#line 54 "driverlib\\can.c"
#line 1 "./inc/hw_types.h"















































#line 63 "./inc/hw_types.h"




















































































#line 55 "driverlib\\can.c"
#line 1 "./driverlib/can.h"





















































































































































typedef struct
{
    
    
    
    uint32_t ui32MsgID;

    
    
    
    uint32_t ui32MsgIDMask;

    
    
    
    
    uint32_t ui32Flags;

    
    
    
    uint32_t ui32MsgLen;

    
    
    
    uint8_t *pui8MsgData;
}
tCANMsgObject;








typedef struct
{
    
    
    
    
    
    uint32_t ui32SyncPropPhase1Seg;

    
    
    
    
    uint32_t ui32Phase2Seg;

    
    
    
    
    uint32_t ui32SJW;

    
    
    
    
    uint32_t ui32QuantumPrescaler;
}
tCANBitClkParms;







typedef enum
{
    
    
    
    CAN_INT_STS_CAUSE,

    
    
    
    CAN_INT_STS_OBJECT
}
tCANIntStsReg;







typedef enum
{
    
    
    
    CAN_STS_CONTROL,

    
    
    
    
    CAN_STS_TXREQUEST,

    
    
    
    CAN_STS_NEWDAT,

    
    
    
    CAN_STS_MSGVAL
}
tCANStsReg;
































typedef enum
{
    
    
    
    MSG_OBJ_TYPE_TX,

    
    
    
    MSG_OBJ_TYPE_TX_REMOTE,

    
    
    
    MSG_OBJ_TYPE_RX,

    
    
    
    MSG_OBJ_TYPE_RX_REMOTE,

    
    
    
    MSG_OBJ_TYPE_RXTX_REMOTE
}
tMsgObjType;


























































































extern void CANBitTimingGet(uint32_t ui32Base, tCANBitClkParms *psClkParms);
extern void CANBitTimingSet(uint32_t ui32Base, tCANBitClkParms *psClkParms);
extern uint32_t CANBitRateSet(uint32_t ui32Base, uint32_t ui32SourceClock,
                              uint32_t ui32BitRate);
extern void CANDisable(uint32_t ui32Base);
extern void CANEnable(uint32_t ui32Base);
extern _Bool CANErrCntrGet(uint32_t ui32Base, uint32_t *pui32RxCount,
                          uint32_t *pui32TxCount);
extern void CANInit(uint32_t ui32Base);
extern void CANIntClear(uint32_t ui32Base, uint32_t ui32IntClr);
extern void CANIntDisable(uint32_t ui32Base, uint32_t ui32IntFlags);
extern void CANIntEnable(uint32_t ui32Base, uint32_t ui32IntFlags);
extern void CANIntRegister(uint32_t ui32Base, void (*pfnHandler)(void));
extern uint32_t CANIntStatus(uint32_t ui32Base, tCANIntStsReg eIntStsReg);
extern void CANIntUnregister(uint32_t ui32Base);
extern void CANMessageClear(uint32_t ui32Base, uint32_t ui32ObjID);
extern void CANMessageGet(uint32_t ui32Base, uint32_t ui32ObjID,
                          tCANMsgObject *psMsgObject, _Bool bClrPendingInt);
extern void CANMessageSet(uint32_t ui32Base, uint32_t ui32ObjID,
                          tCANMsgObject *psMsgObject, tMsgObjType eMsgType);
extern _Bool CANRetryGet(uint32_t ui32Base);
extern void CANRetrySet(uint32_t ui32Base, _Bool bAutoRetry);
extern uint32_t CANStatusGet(uint32_t ui32Base, tCANStsReg eStatusReg);










#line 56 "driverlib\\can.c"
#line 1 "./driverlib/debug.h"
















































extern void __error__(char *pcFilename, uint32_t ui32Line);







#line 69 "./driverlib/debug.h"

#line 57 "driverlib\\can.c"
#line 1 "./driverlib/interrupt.h"


































































extern _Bool IntMasterEnable(void);
extern _Bool IntMasterDisable(void);
extern void IntRegister(uint32_t ui32Interrupt, void (*pfnHandler)(void));
extern void IntUnregister(uint32_t ui32Interrupt);
extern void IntPriorityGroupingSet(uint32_t ui32Bits);
extern uint32_t IntPriorityGroupingGet(void);
extern void IntPrioritySet(uint32_t ui32Interrupt,
                           uint8_t ui8Priority);
extern int32_t IntPriorityGet(uint32_t ui32Interrupt);
extern void IntEnable(uint32_t ui32Interrupt);
extern void IntDisable(uint32_t ui32Interrupt);
extern uint32_t IntIsEnabled(uint32_t ui32Interrupt);
extern void IntPendSet(uint32_t ui32Interrupt);
extern void IntPendClear(uint32_t ui32Interrupt);
extern void IntPriorityMaskSet(uint32_t ui32PriorityMask);
extern uint32_t IntPriorityMaskGet(void);
extern void IntTrigger(uint32_t ui32Interrupt);










#line 58 "driverlib\\can.c"











































#line 108 "driverlib\\can.c"







static const uint16_t g_ui16CANBitValues[] =
{
    ((((2 - 1) << 8) & 0x00000F00) | (((1 - 1) << 12) & 0x00007000) | (((1 - 1) << 6) & 0x000000C0)),     
    ((((3 - 1) << 8) & 0x00000F00) | (((1 - 1) << 12) & 0x00007000) | (((1 - 1) << 6) & 0x000000C0)),     
    ((((3 - 1) << 8) & 0x00000F00) | (((2 - 1) << 12) & 0x00007000) | (((2 - 1) << 6) & 0x000000C0)),     
    ((((4 - 1) << 8) & 0x00000F00) | (((2 - 1) << 12) & 0x00007000) | (((2 - 1) << 6) & 0x000000C0)),     
    ((((4 - 1) << 8) & 0x00000F00) | (((3 - 1) << 12) & 0x00007000) | (((3 - 1) << 6) & 0x000000C0)),     
    ((((5 - 1) << 8) & 0x00000F00) | (((3 - 1) << 12) & 0x00007000) | (((3 - 1) << 6) & 0x000000C0)),     
    ((((5 - 1) << 8) & 0x00000F00) | (((4 - 1) << 12) & 0x00007000) | (((4 - 1) << 6) & 0x000000C0)),     
    ((((6 - 1) << 8) & 0x00000F00) | (((4 - 1) << 12) & 0x00007000) | (((4 - 1) << 6) & 0x000000C0)),     
    ((((6 - 1) << 8) & 0x00000F00) | (((5 - 1) << 12) & 0x00007000) | (((4 - 1) << 6) & 0x000000C0)),     
    ((((7 - 1) << 8) & 0x00000F00) | (((5 - 1) << 12) & 0x00007000) | (((4 - 1) << 6) & 0x000000C0)),     
    ((((7 - 1) << 8) & 0x00000F00) | (((6 - 1) << 12) & 0x00007000) | (((4 - 1) << 6) & 0x000000C0)),     
    ((((8 - 1) << 8) & 0x00000F00) | (((6 - 1) << 12) & 0x00007000) | (((4 - 1) << 6) & 0x000000C0)),     
    ((((8 - 1) << 8) & 0x00000F00) | (((7 - 1) << 12) & 0x00007000) | (((4 - 1) << 6) & 0x000000C0)),     
    ((((9 - 1) << 8) & 0x00000F00) | (((7 - 1) << 12) & 0x00007000) | (((4 - 1) << 6) & 0x000000C0)),     
    ((((9 - 1) << 8) & 0x00000F00) | (((8 - 1) << 12) & 0x00007000) | (((4 - 1) << 6) & 0x000000C0)),     
    ((((10 - 1) << 8) & 0x00000F00) | (((8 - 1) << 12) & 0x00007000) | (((4 - 1) << 6) & 0x000000C0))     
};














#line 155 "driverlib\\can.c"














static uint_fast8_t
_CANIntNumberGet(uint32_t ui32Base)
{
    uint_fast8_t ui8Int;

    ;

    ui8Int = 0;

    
    
    
    if((((*((volatile uint32_t *)(0x400FE000))) & (0x70000000 | 0x00FF0000)) == (0x10000000 | 0x00050000)))
    {
        if(ui32Base == 0x40040000)
        {
            ui8Int = 55;
        }
        else if(ui32Base == 0x40041000)
        {
            ui8Int = 56;
        }
    }
    else if((((*((volatile uint32_t *)(0x400FE000))) & (0x70000000 | 0x00FF0000)) == (0x10000000 | 0x000A0000)))
    {
        if(ui32Base == 0x40040000)
        {
            ui8Int = 54;
        }
        else if(ui32Base == 0x40041000)
        {
            ui8Int = 55;
        }
    }

    return(ui8Int);
}






















static void
_CANDataRegWrite(uint8_t *pui8Data, uint32_t *pui32Register, uint32_t ui32Size)
{
    uint32_t ui32Idx, ui32Value;

    
    
    
    for(ui32Idx = 0; ui32Idx < ui32Size; )
    {
        
        
        
        
        ui32Value = pui8Data[ui32Idx++];

        
        
        
        if(ui32Idx < ui32Size)
        {
            ui32Value |= (pui8Data[ui32Idx++] << 8);
        }

        (*((volatile uint32_t *)(pui32Register++))) = ui32Value;
    }
}






















static void
_CANDataRegRead(uint8_t *pui8Data, uint32_t *pui32Register, uint32_t ui32Size)
{
    uint32_t ui32Idx, ui32Value;

    
    
    
    for(ui32Idx = 0; ui32Idx < ui32Size; )
    {
        
        
        
        
        ui32Value = (*((volatile uint32_t *)(pui32Register++)));

        
        
        
        pui8Data[ui32Idx++] = (uint8_t)ui32Value;

        
        
        
        if(ui32Idx < ui32Size)
        {
            pui8Data[ui32Idx++] = (uint8_t)(ui32Value >> 8);
        }
    }
}

















void
CANInit(uint32_t ui32Base)
{
    uint32_t ui32Msg;

    
    
    
    ;

    
    
    
    
    
    (*((volatile uint32_t *)(ui32Base + 0x00000000))) = 0x00000001;

    
    
    
    while((*((volatile uint32_t *)(ui32Base + 0x00000020))) & 0x00008000)
    {
    }

    
    
    
    
    
    (*((volatile uint32_t *)(ui32Base + 0x00000024))) = (0x00000080 | 0x00000020 |
                                       0x00000010);
    (*((volatile uint32_t *)(ui32Base + 0x00000034))) = 0;
    (*((volatile uint32_t *)(ui32Base + 0x00000038))) = 0;

    
    
    
    for(ui32Msg = 1; ui32Msg <= 32; ui32Msg++)
    {
        
        
        
        while((*((volatile uint32_t *)(ui32Base + 0x00000020))) & 0x00008000)
        {
        }

        
        
        
        (*((volatile uint32_t *)(ui32Base + 0x00000020))) = ui32Msg;
    }

    
    
    
    
    (*((volatile uint32_t *)(ui32Base + 0x00000024))) = (0x00000004 |
                                       0x00000008);

    
    
    
    for(ui32Msg = 1; ui32Msg <= 32; ui32Msg++)
    {
        
        
        
        while((*((volatile uint32_t *)(ui32Base + 0x00000020))) & 0x00008000)
        {
        }

        
        
        
        (*((volatile uint32_t *)(ui32Base + 0x00000020))) = ui32Msg;
    }

    
    
    
    (*((volatile uint32_t *)(ui32Base + 0x00000004)));
}

















void
CANEnable(uint32_t ui32Base)
{
    
    
    
    ;

    
    
    
    (*((volatile uint32_t *)(ui32Base + 0x00000000))) &= ~0x00000001;
}
















void
CANDisable(uint32_t ui32Base)
{
    
    
    
    ;

    
    
    
    (*((volatile uint32_t *)(ui32Base + 0x00000000))) |= 0x00000001;
}

















void
CANBitTimingGet(uint32_t ui32Base, tCANBitClkParms *psClkParms)
{
    uint32_t ui32BitReg;

    
    
    
    ;
    ;

    
    
    
    ui32BitReg = (*((volatile uint32_t *)(ui32Base + 0x0000000C)));

    
    
    
    psClkParms->ui32Phase2Seg =
        ((ui32BitReg & 0x00007000) >> 12) + 1;

    
    
    
    psClkParms->ui32SyncPropPhase1Seg =
        ((ui32BitReg & 0x00000F00) >> 8) + 1;

    
    
    
    psClkParms->ui32SJW = ((ui32BitReg & 0x000000C0) >> 6) + 1;

    
    
    
    psClkParms->ui32QuantumPrescaler =
        ((ui32BitReg & 0x0000003F) |
         (((*((volatile uint32_t *)(ui32Base + 0x00000018))) & 0x0000000F) << 6)) + 1;
}































uint32_t
CANBitRateSet(uint32_t ui32Base, uint32_t ui32SourceClock,
              uint32_t ui32BitRate)
{
    uint32_t ui32DesiredRatio;
    uint32_t ui32CANBits;
    uint32_t ui32PreDivide;
    uint32_t ui32RegValue;
    uint16_t ui16CANCTL;

    
    
    
    ;
    ;
    ;

    
    
    
    ui32DesiredRatio = ui32SourceClock / ui32BitRate;

    
    
    
    
    ;
    ;

    
    
    
    
    if((ui32SourceClock / ui32DesiredRatio) > ui32BitRate)
    {
        ui32DesiredRatio += 1;
    }

    
    
    
    while(ui32DesiredRatio <= (1024 * 19))
    {
        
        
        
        for(ui32CANBits = 19;
            ui32CANBits >= 4; ui32CANBits--)
        {
            
            
            
            ui32PreDivide = ui32DesiredRatio / ui32CANBits;

            
            
            
            
            if((ui32PreDivide * ui32CANBits) == ui32DesiredRatio)
            {
                
                
                
                
                ui32RegValue = g_ui16CANBitValues[ui32CANBits -
                                                  4];

                
                
                
                
                
                
                ui16CANCTL = (*((volatile uint32_t *)(ui32Base + 0x00000000)));
                (*((volatile uint32_t *)(ui32Base + 0x00000000))) = ui16CANCTL | 0x00000001 |
                                              0x00000040;

                
                
                
                ui32RegValue |= ((ui32PreDivide - 1) & 0x0000003F);

                
                
                
                
                (*((volatile uint32_t *)(ui32Base + 0x0000000C))) = ui32RegValue;

                
                
                
                (*((volatile uint32_t *)(ui32Base + 0x00000018))) = ((ui32PreDivide - 1) >> 6) &
                                               0x0000000F;

                
                
                
                (*((volatile uint32_t *)(ui32Base + 0x00000000))) = ui16CANCTL;

                
                
                
                return(ui32SourceClock / (ui32PreDivide * ui32CANBits));
            }
        }

        
        
        
        
        ui32DesiredRatio++;
    }

    
    
    
    
    return(0);
}








































void
CANBitTimingSet(uint32_t ui32Base, tCANBitClkParms *psClkParms)
{
    uint32_t ui32BitReg, ui32SavedInit;

    
    
    
    ;
    ;

    
    
    
    ;


    
    
    
    ;


    
    
    
    ;

    
    
    
    ;


    
    
    
    
    
    ui32SavedInit = (*((volatile uint32_t *)(ui32Base + 0x00000000)));
    (*((volatile uint32_t *)(ui32Base + 0x00000000))) = ui32SavedInit | 0x00000001 | 0x00000040;

    
    
    
    ui32BitReg = (((psClkParms->ui32Phase2Seg - 1) << 12) &
                  0x00007000);
    ui32BitReg |= (((psClkParms->ui32SyncPropPhase1Seg - 1) <<
                    8) & 0x00000F00);
    ui32BitReg |= ((psClkParms->ui32SJW - 1) << 6) & 0x000000C0;
    ui32BitReg |= (psClkParms->ui32QuantumPrescaler - 1) & 0x0000003F;
    (*((volatile uint32_t *)(ui32Base + 0x0000000C))) = ui32BitReg;

    
    
    
    (*((volatile uint32_t *)(ui32Base + 0x00000018))) =
        ((psClkParms->ui32QuantumPrescaler - 1) >> 6) & 0x0000000F;

    
    
    
    ui32SavedInit &= ~0x00000040;

    
    
    
    if(ui32SavedInit & 0x00000001)
    {
        ui32SavedInit &= ~0x00000001;
    }

    (*((volatile uint32_t *)(ui32Base + 0x00000000))) = ui32SavedInit;
}


























void
CANIntRegister(uint32_t ui32Base, void (*pfnHandler)(void))
{
    uint_fast8_t ui8IntNumber;

    
    
    
    ;

    
    
    
    ui8IntNumber = _CANIntNumberGet(ui32Base);
    ;

    
    
    
    IntRegister(ui8IntNumber, pfnHandler);

    
    
    
    IntEnable(ui8IntNumber);
}
















void
CANIntUnregister(uint32_t ui32Base)
{
    uint_fast8_t ui8IntNumber;

    
    
    
    ;

    
    
    
    ui8IntNumber = _CANIntNumberGet(ui32Base);
    ;

    
    
    
    IntDisable(ui8IntNumber);

    
    
    
    IntUnregister(ui8IntNumber);
}































void
CANIntEnable(uint32_t ui32Base, uint32_t ui32IntFlags)
{
    
    
    
    ;
    ;

    
    
    
    (*((volatile uint32_t *)(ui32Base + 0x00000000))) |= ui32IntFlags;
}


















void
CANIntDisable(uint32_t ui32Base, uint32_t ui32IntFlags)
{
    
    
    
    ;
    ;

    
    
    
    (*((volatile uint32_t *)(ui32Base + 0x00000000))) &= ~ui32IntFlags;
}





































uint32_t
CANIntStatus(uint32_t ui32Base, tCANIntStsReg eIntStsReg)
{
    uint32_t ui32Status;

    
    
    
    ;

    
    
    
    switch(eIntStsReg)
    {
        
        
        
        
        case CAN_INT_STS_CAUSE:
        {
            ui32Status = (*((volatile uint32_t *)(ui32Base + 0x00000010)));
            break;
        }

        
        
        
        
        case CAN_INT_STS_OBJECT:
        {
            
            
            
            ui32Status = ((*((volatile uint32_t *)(ui32Base + 0x00000140))) &
                          0x0000FFFF);
            ui32Status |= ((*((volatile uint32_t *)(ui32Base + 0x00000144))) << 16);
            break;
        }

        
        
        
        default:
        {
            ui32Status = 0;
            break;
        }
    }

    
    
    
    return(ui32Status);
}









































void
CANIntClear(uint32_t ui32Base, uint32_t ui32IntClr)
{
    
    
    
    ;
    ;


    if(ui32IntClr == 0x00008000)
    {
        
        
        
        (*((volatile uint32_t *)(ui32Base + 0x00000004)));
    }
    else
    {
        
        
        
        while((*((volatile uint32_t *)(ui32Base + 0x00000020))) & 0x00008000)
        {
        }

        
        
        
        
        (*((volatile uint32_t *)(ui32Base + 0x00000024))) = 0x00000008;

        
        
        
        (*((volatile uint32_t *)(ui32Base + 0x00000020))) = ui32IntClr & 0x0000003F;

        
        
        
        while((*((volatile uint32_t *)(ui32Base + 0x00000020))) & 0x00008000)
        {
        }
    }
}















void
CANRetrySet(uint32_t ui32Base, _Bool bAutoRetry)
{
    uint32_t ui32CtlReg;

    
    
    
    ;

    ui32CtlReg = (*((volatile uint32_t *)(ui32Base + 0x00000000)));

    
    
    
    if(bAutoRetry)
    {
        
        
        
        
        
        ui32CtlReg &= ~0x00000020;
    }
    else
    {
        
        
        
        
        ui32CtlReg |= 0x00000020;
    }

    (*((volatile uint32_t *)(ui32Base + 0x00000000))) = ui32CtlReg;
}














_Bool
CANRetryGet(uint32_t ui32Base)
{
    
    
    
    ;

    
    
    
    if((*((volatile uint32_t *)(ui32Base + 0x00000000))) & 0x00000020)
    {
        
        
        
        return(0);
    }

    
    
    
    return(1);
}



























































uint32_t
CANStatusGet(uint32_t ui32Base, tCANStsReg eStatusReg)
{
    uint32_t ui32Status;

    
    
    
    ;

    switch(eStatusReg)
    {
        
        
        
        
        case CAN_STS_CONTROL:
        {
            ui32Status = (*((volatile uint32_t *)(ui32Base + 0x00000004)));
            (*((volatile uint32_t *)(ui32Base + 0x00000004))) = ~(0x00000010 | 0x00000008 |
                                            0x00000007);
            break;
        }

        
        
        
        case CAN_STS_TXREQUEST:
        {
            ui32Status = (*((volatile uint32_t *)(ui32Base + 0x00000100)));
            ui32Status |= (*((volatile uint32_t *)(ui32Base + 0x00000104))) << 16;
            break;
        }

        
        
        
        case CAN_STS_NEWDAT:
        {
            ui32Status = (*((volatile uint32_t *)(ui32Base + 0x00000120)));
            ui32Status |= (*((volatile uint32_t *)(ui32Base + 0x00000124))) << 16;
            break;
        }

        
        
        
        case CAN_STS_MSGVAL:
        {
            ui32Status = (*((volatile uint32_t *)(ui32Base + 0x00000160)));
            ui32Status |= (*((volatile uint32_t *)(ui32Base + 0x00000164))) << 16;
            break;
        }

        
        
        
        default:
        {
            ui32Status = 0;
            break;
        }
    }
    return(ui32Status);
}























_Bool
CANErrCntrGet(uint32_t ui32Base, uint32_t *pui32RxCount,
              uint32_t *pui32TxCount)
{
    uint32_t ui32CANError;

    
    
    
    ;

    
    
    
    ui32CANError = (*((volatile uint32_t *)(ui32Base + 0x00000008)));

    
    
    
    *pui32RxCount = (ui32CANError & 0x00007F00) >> 8;
    *pui32TxCount = (ui32CANError & 0x000000FF) >> 0;

    if(ui32CANError & 0x00008000)
    {
        return(1);
    }
    return(0);
}




























































































void
CANMessageSet(uint32_t ui32Base, uint32_t ui32ObjID,
              tCANMsgObject *psMsgObject, tMsgObjType eMsgType)
{
    uint16_t ui16CmdMaskReg;
    uint16_t ui16MaskReg0, ui16MaskReg1;
    uint16_t ui16ArbReg0, ui16ArbReg1;
    uint16_t ui16MsgCtrl;
    _Bool bTransferData;
    _Bool bUseExtendedID;

    bTransferData = 0;

    
    
    
    ;
    ;
    ;






    
    
    
    while((*((volatile uint32_t *)(ui32Base + 0x00000020))) & 0x00008000)
    {
    }

    
    
    
    if((psMsgObject->ui32MsgID > 0x7ff) ||
       (psMsgObject->ui32Flags & 0x00000004))
    {
        bUseExtendedID = 1;
    }
    else
    {
        bUseExtendedID = 0;
    }

    
    
    
    
    
    
    ui16CmdMaskReg = (0x00000080 | 0x00000002 |
                      0x00000001 | 0x00000010);

    
    
    
    
    ui16ArbReg0 = 0;
    ui16ArbReg1 = 0;
    ui16MsgCtrl = 0;
    ui16MaskReg0 = 0;
    ui16MaskReg1 = 0;

    switch(eMsgType)
    {
        
        
        
        case MSG_OBJ_TYPE_TX:
        {
            
            
            
            ui16MsgCtrl |= 0x00000100;
            ui16ArbReg1 = 0x00002000;
            bTransferData = 1;
            break;
        }

        
        
        
        case MSG_OBJ_TYPE_TX_REMOTE:
        {
            
            
            
            ui16MsgCtrl |= 0x00000100;
            ui16ArbReg1 = 0;
            break;
        }

        
        
        
        case MSG_OBJ_TYPE_RX:
        {
            
            
            
            
            ui16ArbReg1 = 0;
            break;
        }

        
        
        
        case MSG_OBJ_TYPE_RX_REMOTE:
        {
            
            
            
            
            ui16ArbReg1 = 0x00002000;

            
            
            
            
            
            ui16MsgCtrl = 0x00001000;

            
            
            
            ui16MaskReg0 = 0xffff;
            ui16MaskReg1 = 0x1fff;

            
            
            
            ui16CmdMaskReg |= 0x00000040;
            break;
        }

        
        
        
        case MSG_OBJ_TYPE_RXTX_REMOTE:
        {
            
            
            
            ui16ArbReg1 = 0x00002000;

            
            
            
            ui16MsgCtrl = 0x00000200 | 0x00001000;

            
            
            
            bTransferData = 1;
            break;
        }

        
        
        
        
        default:
        {
            return;
        }
    }

    
    
    
    if(psMsgObject->ui32Flags & 0x00000008)
    {
        if(bUseExtendedID)
        {
            
            
            
            ui16MaskReg0 = psMsgObject->ui32MsgIDMask & 0x0000FFFF;
            ui16MaskReg1 = ((psMsgObject->ui32MsgIDMask >> 16) &
                            0x00001FFF);
        }
        else
        {
            
            
            
            ui16MaskReg0 = 0;

            
            
            
            
            ui16MaskReg1 = ((psMsgObject->ui32MsgIDMask << 2) &
                            0x00001FFF);
        }
    }

    
    
    
    if((psMsgObject->ui32Flags & (0x00000020 | 0x00000008)) ==
       (0x00000020 | 0x00000008))
    {
        ui16MaskReg1 |= 0x00008000;
    }

    
    
    
    if((psMsgObject->ui32Flags & (0x00000010 | 0x00000008)) ==
       (0x00000010 | 0x00000008))
    {
        ui16MaskReg1 |= 0x00004000;
    }

    if(psMsgObject->ui32Flags &
       (0x00000008 | (0x00000010 | 0x00000008) |
        (0x00000020 | 0x00000008)))
    {
        
        
        
        ui16MsgCtrl |= 0x00001000;

        
        
        
        
        ui16CmdMaskReg |= 0x00000040;
    }

    
    
    
    ui16CmdMaskReg |= 0x00000020;

    
    
    
    if(bUseExtendedID)
    {
        
        
        
        ui16ArbReg0 |= psMsgObject->ui32MsgID & 0x0000FFFF;
        ui16ArbReg1 |= (psMsgObject->ui32MsgID >> 16) & 0x00001FFF;

        
        
        
        ui16ArbReg1 |= 0x00008000 | 0x00004000;
    }
    else
    {
        
        
        
        
        ui16ArbReg1 |= (psMsgObject->ui32MsgID << 2) & 0x00001FFF;

        
        
        
        ui16ArbReg1 |= 0x00008000;
    }

    
    
    
    
    ui16MsgCtrl |= (psMsgObject->ui32MsgLen & 0x0000000F);

    
    
    
    if((psMsgObject->ui32Flags & 0x00000200) == 0)
    {
        ui16MsgCtrl |= 0x00000080;
    }

    
    
    
    if(psMsgObject->ui32Flags & 0x00000001)
    {
        ui16MsgCtrl |= 0x00000800;
    }

    
    
    
    if(psMsgObject->ui32Flags & 0x00000002)
    {
        ui16MsgCtrl |= 0x00000400;
    }

    
    
    
    if(bTransferData)
    {
        _CANDataRegWrite(psMsgObject->pui8MsgData,
                         (uint32_t *)(ui32Base + 0x0000003C),
                         psMsgObject->ui32MsgLen);
    }

    
    
    
    (*((volatile uint32_t *)(ui32Base + 0x00000024))) = ui16CmdMaskReg;
    (*((volatile uint32_t *)(ui32Base + 0x00000028))) = ui16MaskReg0;
    (*((volatile uint32_t *)(ui32Base + 0x0000002C))) = ui16MaskReg1;
    (*((volatile uint32_t *)(ui32Base + 0x00000030))) = ui16ArbReg0;
    (*((volatile uint32_t *)(ui32Base + 0x00000034))) = ui16ArbReg1;
    (*((volatile uint32_t *)(ui32Base + 0x00000038))) = ui16MsgCtrl;

    
    
    
    
    (*((volatile uint32_t *)(ui32Base + 0x00000020))) = ui32ObjID & 0x0000003F;
}











































void
CANMessageGet(uint32_t ui32Base, uint32_t ui32ObjID,
              tCANMsgObject *psMsgObject, _Bool bClrPendingInt)
{
    uint16_t ui16CmdMaskReg;
    uint16_t ui16MaskReg0, ui16MaskReg1;
    uint16_t ui16ArbReg0, ui16ArbReg1;
    uint16_t ui16MsgCtrl;

    
    
    
    ;
    ;

    
    
    
    
    ui16CmdMaskReg = (0x00000002 | 0x00000001 |
                      0x00000010 | 0x00000040 |
                      0x00000020);

    
    
    
    if(bClrPendingInt)
    {
        ui16CmdMaskReg |= 0x00000008;
    }

    
    
    
    (*((volatile uint32_t *)(ui32Base + 0x00000084))) = ui16CmdMaskReg;

    
    
    
    
    (*((volatile uint32_t *)(ui32Base + 0x00000080))) = ui32ObjID & 0x0000003F;

    
    
    
    while((*((volatile uint32_t *)(ui32Base + 0x00000080))) & 0x00008000)
    {
    }

    
    
    
    ui16MaskReg0 = (*((volatile uint32_t *)(ui32Base + 0x00000088)));
    ui16MaskReg1 = (*((volatile uint32_t *)(ui32Base + 0x0000008C)));
    ui16ArbReg0 = (*((volatile uint32_t *)(ui32Base + 0x00000090)));
    ui16ArbReg1 = (*((volatile uint32_t *)(ui32Base + 0x00000094)));
    ui16MsgCtrl = (*((volatile uint32_t *)(ui32Base + 0x00000098)));

    psMsgObject->ui32Flags = 0x00000000;

    
    
    
    if((!(ui16MsgCtrl & 0x00000100) &&
        (ui16ArbReg1 & 0x00002000)) ||
       ((ui16MsgCtrl & 0x00000100) &&
        (!(ui16ArbReg1 & 0x00002000))))
    {
        psMsgObject->ui32Flags |= 0x00000040;
    }

    
    
    
    
    if(ui16ArbReg1 & 0x00004000)
    {
        
        
        
        psMsgObject->ui32MsgID = (((ui16ArbReg1 & 0x00001FFF) << 16) |
                                  ui16ArbReg0);

        psMsgObject->ui32Flags |= 0x00000004;
    }
    else
    {
        
        
        
        psMsgObject->ui32MsgID = (ui16ArbReg1 & 0x00001FFF) >> 2;
    }

    
    
    
    if(ui16MsgCtrl & 0x00004000)
    {
        psMsgObject->ui32Flags |= 0x00000100;
    }

    
    
    
    if(ui16MsgCtrl & 0x00001000)
    {
        if(ui16ArbReg1 & 0x00004000)
        {
            
            
            
            psMsgObject->ui32MsgIDMask =
                ((ui16MaskReg1 & 0x00001FFF) << 16) | ui16MaskReg0;

            
            
            
            
            
            if((psMsgObject->ui32MsgIDMask != 0x1fffffff) ||
               ((psMsgObject->ui32Flags & 0x00000040) == 0))
            {
                psMsgObject->ui32Flags |= 0x00000008;
            }
        }
        else
        {
            
            
            
            psMsgObject->ui32MsgIDMask =
                (ui16MaskReg1 & 0x00001FFF) >> 2;

            
            
            
            
            
            if((psMsgObject->ui32MsgIDMask != 0x7ff) ||
               ((psMsgObject->ui32Flags & 0x00000040) == 0))
            {
                psMsgObject->ui32Flags |= 0x00000008;
            }
        }

        
        
        
        if(ui16MaskReg1 & 0x00008000)
        {
            psMsgObject->ui32Flags |= (0x00000020 | 0x00000008);
        }

        
        
        
        if(ui16MaskReg1 & 0x00004000)
        {
            psMsgObject->ui32Flags |= (0x00000010 | 0x00000008);
        }
    }

    
    
    
    if(ui16MsgCtrl & 0x00000800)
    {
        psMsgObject->ui32Flags |= 0x00000001;
    }
    if(ui16MsgCtrl & 0x00000400)
    {
        psMsgObject->ui32Flags |= 0x00000002;
    }

    
    
    
    if(ui16MsgCtrl & 0x00008000)
    {
        
        
        
        psMsgObject->ui32MsgLen = (ui16MsgCtrl & 0x0000000F);

        
        
        
        
        if((psMsgObject->ui32Flags & 0x00000040) == 0)
        {
            
            
            
            _CANDataRegRead(psMsgObject->pui8MsgData,
                            (uint32_t *)(ui32Base + 0x0000009C),
                            psMsgObject->ui32MsgLen);
        }

        
        
        
        (*((volatile uint32_t *)(ui32Base + 0x00000084))) = 0x00000004;

        
        
        
        
        (*((volatile uint32_t *)(ui32Base + 0x00000080))) = ui32ObjID & 0x0000003F;

        
        
        
        while((*((volatile uint32_t *)(ui32Base + 0x00000080))) & 0x00008000)
        {
        }

        
        
        
        psMsgObject->ui32Flags |= 0x00000080;
    }
    else
    {
        
        
        
        
        psMsgObject->ui32MsgLen = 0;
    }
}






















void
CANMessageClear(uint32_t ui32Base, uint32_t ui32ObjID)
{
    
    
    
    ;
    ;

    
    
    
    while((*((volatile uint32_t *)(ui32Base + 0x00000020))) & 0x00008000)
    {
    }

    
    
    
    
    (*((volatile uint32_t *)(ui32Base + 0x00000024))) = 0x00000080 | 0x00000020;
    (*((volatile uint32_t *)(ui32Base + 0x00000030))) = 0;
    (*((volatile uint32_t *)(ui32Base + 0x00000034))) = 0;

    
    
    
    (*((volatile uint32_t *)(ui32Base + 0x00000020))) = ui32ObjID & 0x0000003F;
}







