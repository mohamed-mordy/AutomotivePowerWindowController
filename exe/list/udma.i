#line 1 "driverlib\\udma.c"














































#line 1 "C:\\Keil_v5\\ARM\\ARMCC\\Bin\\..\\include\\stdbool.h"
 






 





#line 25 "C:\\Keil_v5\\ARM\\ARMCC\\Bin\\..\\include\\stdbool.h"



#line 48 "driverlib\\udma.c"
#line 1 "C:\\Keil_v5\\ARM\\ARMCC\\Bin\\..\\include\\stdint.h"
 
 





 









     
#line 27 "C:\\Keil_v5\\ARM\\ARMCC\\Bin\\..\\include\\stdint.h"
     











#line 46 "C:\\Keil_v5\\ARM\\ARMCC\\Bin\\..\\include\\stdint.h"





 

     

     
typedef   signed          char int8_t;
typedef   signed short     int int16_t;
typedef   signed           int int32_t;
typedef   signed       __int64 int64_t;

     
typedef unsigned          char uint8_t;
typedef unsigned short     int uint16_t;
typedef unsigned           int uint32_t;
typedef unsigned       __int64 uint64_t;

     

     
     
typedef   signed          char int_least8_t;
typedef   signed short     int int_least16_t;
typedef   signed           int int_least32_t;
typedef   signed       __int64 int_least64_t;

     
typedef unsigned          char uint_least8_t;
typedef unsigned short     int uint_least16_t;
typedef unsigned           int uint_least32_t;
typedef unsigned       __int64 uint_least64_t;

     

     
typedef   signed           int int_fast8_t;
typedef   signed           int int_fast16_t;
typedef   signed           int int_fast32_t;
typedef   signed       __int64 int_fast64_t;

     
typedef unsigned           int uint_fast8_t;
typedef unsigned           int uint_fast16_t;
typedef unsigned           int uint_fast32_t;
typedef unsigned       __int64 uint_fast64_t;

     




typedef   signed           int intptr_t;
typedef unsigned           int uintptr_t;


     
typedef   signed     long long intmax_t;
typedef unsigned     long long uintmax_t;




     

     





     





     





     

     





     





     





     

     





     





     





     

     






     






     






     

     


     


     


     

     
#line 216 "C:\\Keil_v5\\ARM\\ARMCC\\Bin\\..\\include\\stdint.h"

     



     






     
    
 



#line 241 "C:\\Keil_v5\\ARM\\ARMCC\\Bin\\..\\include\\stdint.h"

     







     










     











#line 305 "C:\\Keil_v5\\ARM\\ARMCC\\Bin\\..\\include\\stdint.h"






 
#line 49 "driverlib\\udma.c"
#line 1 "./inc/hw_sysctl.h"















































#line 67 "./inc/hw_sysctl.h"
                                            





                                            



                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            



                                            

                                            


                                            

                                            
#line 124 "./inc/hw_sysctl.h"
                                            


                                            

                                            

                                            

                                            



                                            
                                            

                                            

                                            

                                            


                                            

                                            

                                            

                                            

                                            

                                            

                                            



                                            

                                            

                                            




                                            


                                            

                                            

                                            



                                            
                                            

                                            

                                            

                                            


                                            

                                            


                                            

                                            


                                            

                                            




                                            

                                            

                                            

                                            

                                            

                                            

                                            
                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            
                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            
                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            
                                            

                                            

                                            

                                            

                                            

                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            

                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            

                                            

                                            
                                            

                                            
                                            

                                            

                                            

                                            
                                            

                                            

                                            
                                            

                                            
                                            

                                            

                                            

                                            


                                            

                                            

                                            

                                            


                                            
                                            

                                            

                                            

                                            


                                            

                                            


                                            

                                            


                                            





                                            

                                            

                                            



                                            
                                            

                                            

                                            

                                            


                                            

                                            

                                            

                                            

                                            


                                            

                                            
#line 433 "./inc/hw_sysctl.h"
                                            








                                            



                                            


                                            



                                            

                                            


                                            








#line 623 "./inc/hw_sysctl.h"
                                            
                                            
                                            
#line 634 "./inc/hw_sysctl.h"






#line 659 "./inc/hw_sysctl.h"






#line 674 "./inc/hw_sysctl.h"
                                            

                                            

                                            

                                            

                                            
#line 701 "./inc/hw_sysctl.h"






#line 727 "./inc/hw_sysctl.h"






#line 764 "./inc/hw_sysctl.h"






#line 787 "./inc/hw_sysctl.h"






#line 807 "./inc/hw_sysctl.h"

















#line 855 "./inc/hw_sysctl.h"






#line 893 "./inc/hw_sysctl.h"














#line 919 "./inc/hw_sysctl.h"
                                            
#line 928 "./inc/hw_sysctl.h"






#line 942 "./inc/hw_sysctl.h"






#line 964 "./inc/hw_sysctl.h"






#line 981 "./inc/hw_sysctl.h"







                                            

                                            

                                            

                                            


                                            

                                            

                                            






#line 1014 "./inc/hw_sysctl.h"
                                            









                                            

                                            

                                            

                                            


                                            


                                            






#line 1051 "./inc/hw_sysctl.h"














#line 1108 "./inc/hw_sysctl.h"






#line 1120 "./inc/hw_sysctl.h"








                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            








                                            
#line 1166 "./inc/hw_sysctl.h"


















#line 1194 "./inc/hw_sysctl.h"
                                            
#line 1205 "./inc/hw_sysctl.h"
                                            
#line 1214 "./inc/hw_sysctl.h"






#line 1257 "./inc/hw_sysctl.h"






#line 1287 "./inc/hw_sysctl.h"






#line 1309 "./inc/hw_sysctl.h"






#line 1326 "./inc/hw_sysctl.h"






#line 1341 "./inc/hw_sysctl.h"






#line 1363 "./inc/hw_sysctl.h"






#line 1380 "./inc/hw_sysctl.h"






#line 1394 "./inc/hw_sysctl.h"






#line 1416 "./inc/hw_sysctl.h"






#line 1433 "./inc/hw_sysctl.h"







#line 1446 "./inc/hw_sysctl.h"
                                            


                                            







#line 1466 "./inc/hw_sysctl.h"







#line 1489 "./inc/hw_sysctl.h"






#line 1504 "./inc/hw_sysctl.h"





























                                            

                                            

                                            








































#line 1592 "./inc/hw_sysctl.h"







#line 1615 "./inc/hw_sysctl.h"






#line 1637 "./inc/hw_sysctl.h"







                                            







#line 1668 "./inc/hw_sysctl.h"







#line 1697 "./inc/hw_sysctl.h"











                                            
                                            


                                            
                                            
                                            




                                            
                                            


                                            
                                            
                                            




                                            
                                            


                                            
                                            
                                            




                                            
                                            


                                            
                                            
                                            
















#line 1776 "./inc/hw_sysctl.h"






#line 1788 "./inc/hw_sysctl.h"






#line 1806 "./inc/hw_sysctl.h"




































                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            






#line 1881 "./inc/hw_sysctl.h"



























#line 1916 "./inc/hw_sysctl.h"
















#line 1942 "./inc/hw_sysctl.h"


























































































                                            

                                            

                                            

                                            

                                            

                                            














                                            





















                                            






















                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            






#line 2141 "./inc/hw_sysctl.h"





















                                            






#line 2177 "./inc/hw_sysctl.h"
















#line 2203 "./inc/hw_sysctl.h"














                                            























                                            
































                                            

                                            

                                            

                                            

                                            

                                            







                                            





















                                            







                                            

                                            








                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            








                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            







                                            







                                            







                                            








                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            







                                            

                                            

                                            

                                            







                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            







                                            








                                            







                                            

                                            







                                            

                                            








                                            







                                            

                                            







                                            

                                            








                                            








                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            







                                            







                                            








                                            








                                            







                                            

                                            








                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            








                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            







                                            







                                            







                                            








                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            







                                            

                                            

                                            

                                            







                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            







                                            








                                            







                                            

                                            







                                            

                                            








                                            







                                            

                                            







                                            

                                            








                                            








                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            







                                            







                                            








                                            








                                            







                                            

                                            








                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            








                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            







                                            







                                            







                                            








                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            







                                            

                                            

                                            

                                            







                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            







                                            








                                            







                                            

                                            







                                            

                                            








                                            
                                            







                                            

                                            







                                            

                                            








                                            








                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            

                                            
                                            







                                            
                                            







                                            
                                            








                                            








                                            















                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            






#line 3279 "./inc/hw_sysctl.h"



























#line 3314 "./inc/hw_sysctl.h"
















#line 3340 "./inc/hw_sysctl.h"














                                            























                                            





























                                            







                                            














                                            







                                            

                                            







                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            






#line 3488 "./inc/hw_sysctl.h"





















                                            






#line 3524 "./inc/hw_sysctl.h"
















#line 3550 "./inc/hw_sysctl.h"














                                            























                                            
































                                            

                                            

                                            

                                            

                                            

                                            







                                            







                                            














                                            






























































                                            


                                            




















#line 50 "driverlib\\udma.c"
#line 1 "./inc/hw_types.h"















































#line 63 "./inc/hw_types.h"




















































































#line 51 "driverlib\\udma.c"
#line 1 "./inc/hw_udma.h"




















































                                            

                                            
#line 64 "./inc/hw_udma.h"
                                            

                                            
#line 76 "./inc/hw_udma.h"






#line 95 "./inc/hw_udma.h"
                                            
#line 102 "./inc/hw_udma.h"






















                                            








































































































                                            

                                            













#line 261 "./inc/hw_udma.h"






#line 283 "./inc/hw_udma.h"






#line 305 "./inc/hw_udma.h"






#line 327 "./inc/hw_udma.h"







                                            

                                            























#line 411 "./inc/hw_udma.h"
                                            


#line 52 "driverlib\\udma.c"
#line 1 "./driverlib/debug.h"
















































extern void __error__(char *pcFilename, uint32_t ui32Line);







#line 69 "./driverlib/debug.h"

#line 53 "driverlib\\udma.c"
#line 1 "./driverlib/interrupt.h"


































































extern _Bool IntMasterEnable(void);
extern _Bool IntMasterDisable(void);
extern void IntRegister(uint32_t ui32Interrupt, void (*pfnHandler)(void));
extern void IntUnregister(uint32_t ui32Interrupt);
extern void IntPriorityGroupingSet(uint32_t ui32Bits);
extern uint32_t IntPriorityGroupingGet(void);
extern void IntPrioritySet(uint32_t ui32Interrupt,
                           uint8_t ui8Priority);
extern int32_t IntPriorityGet(uint32_t ui32Interrupt);
extern void IntEnable(uint32_t ui32Interrupt);
extern void IntDisable(uint32_t ui32Interrupt);
extern uint32_t IntIsEnabled(uint32_t ui32Interrupt);
extern void IntPendSet(uint32_t ui32Interrupt);
extern void IntPendClear(uint32_t ui32Interrupt);
extern void IntPriorityMaskSet(uint32_t ui32PriorityMask);
extern uint32_t IntPriorityMaskGet(void);
extern void IntTrigger(uint32_t ui32Interrupt);










#line 54 "driverlib\\udma.c"
#line 1 "./driverlib/udma.h"



































































typedef struct
{
    
    
    
    volatile void *pvSrcEndAddr;

    
    
    
    volatile void *pvDstEndAddr;

    
    
    
    volatile uint32_t ui32Control;

    
    
    
    volatile uint32_t ui32Spare;
}
tDMAControlTable;






































































#line 183 "./driverlib/udma.h"


























#line 218 "./driverlib/udma.h"






#line 249 "./driverlib/udma.h"







#line 283 "./driverlib/udma.h"
















#line 336 "./driverlib/udma.h"











#line 356 "./driverlib/udma.h"




#line 369 "./driverlib/udma.h"




#line 382 "./driverlib/udma.h"




#line 395 "./driverlib/udma.h"




#line 408 "./driverlib/udma.h"




#line 421 "./driverlib/udma.h"




#line 435 "./driverlib/udma.h"




#line 449 "./driverlib/udma.h"




#line 462 "./driverlib/udma.h"




#line 475 "./driverlib/udma.h"




#line 488 "./driverlib/udma.h"




#line 501 "./driverlib/udma.h"




#line 514 "./driverlib/udma.h"




#line 527 "./driverlib/udma.h"




#line 540 "./driverlib/udma.h"




#line 553 "./driverlib/udma.h"




#line 566 "./driverlib/udma.h"




#line 579 "./driverlib/udma.h"




#line 592 "./driverlib/udma.h"




#line 605 "./driverlib/udma.h"




#line 619 "./driverlib/udma.h"




#line 633 "./driverlib/udma.h"




#line 646 "./driverlib/udma.h"




#line 659 "./driverlib/udma.h"




#line 672 "./driverlib/udma.h"




#line 685 "./driverlib/udma.h"




#line 698 "./driverlib/udma.h"




#line 711 "./driverlib/udma.h"




#line 724 "./driverlib/udma.h"




#line 737 "./driverlib/udma.h"




#line 750 "./driverlib/udma.h"




#line 763 "./driverlib/udma.h"






extern void uDMAEnable(void);
extern void uDMADisable(void);
extern uint32_t uDMAErrorStatusGet(void);
extern void uDMAErrorStatusClear(void);
extern void uDMAChannelEnable(uint32_t ui32ChannelNum);
extern void uDMAChannelDisable(uint32_t ui32ChannelNum);
extern _Bool uDMAChannelIsEnabled(uint32_t ui32ChannelNum);
extern void uDMAControlBaseSet(void *pControlTable);
extern void *uDMAControlBaseGet(void);
extern void *uDMAControlAlternateBaseGet(void);
extern void uDMAChannelRequest(uint32_t ui32ChannelNum);
extern void uDMAChannelAttributeEnable(uint32_t ui32ChannelNum,
                                       uint32_t ui32Attr);
extern void uDMAChannelAttributeDisable(uint32_t ui32ChannelNum,
                                        uint32_t ui32Attr);
extern uint32_t uDMAChannelAttributeGet(uint32_t ui32ChannelNum);
extern void uDMAChannelControlSet(uint32_t ui32ChannelStructIndex,
                                  uint32_t ui32Control);
extern void uDMAChannelTransferSet(uint32_t ui32ChannelStructIndex,
                                   uint32_t ui32Mode, void *pvSrcAddr,
                                   void *pvDstAddr, uint32_t ui32TransferSize);
extern void uDMAChannelScatterGatherSet(uint32_t ui32ChannelNum,
                                        uint32_t ui32TaskCount,
                                        void *pvTaskList,
                                        uint32_t ui32IsPeriphSG);
extern uint32_t uDMAChannelSizeGet(uint32_t ui32ChannelStructIndex);
extern uint32_t uDMAChannelModeGet(uint32_t ui32ChannelStructIndex);
extern void uDMAIntRegister(uint32_t ui32IntChannel, void (*pfnHandler)(void));
extern void uDMAIntUnregister(uint32_t ui32IntChannel);
extern uint32_t uDMAIntStatus(void);
extern void uDMAIntClear(uint32_t ui32ChanMask);
extern void uDMAChannelAssign(uint32_t ui32Mapping);















#line 876 "./driverlib/udma.h"

extern void uDMAChannelSelectDefault(uint32_t ui32DefPeriphs);
extern void uDMAChannelSelectSecondary(uint32_t ui32SecPeriphs);











#line 55 "driverlib\\udma.c"











void
uDMAEnable(void)
{
    
    
    
    (*((volatile uint32_t *)(0x400FF004))) = 0x00000001;
}











void
uDMADisable(void)
{
    
    
    
    (*((volatile uint32_t *)(0x400FF004))) = 0;
}












uint32_t
uDMAErrorStatusGet(void)
{
    
    
    
    return((*((volatile uint32_t *)(0x400FF04C))));
}












void
uDMAErrorStatusClear(void)
{
    
    
    
    (*((volatile uint32_t *)(0x400FF04C))) = 1;
}


















void
uDMAChannelEnable(uint32_t ui32ChannelNum)
{
    
    
    
    ;

    
    
    
    (*((volatile uint32_t *)(0x400FF028))) = 1 << (ui32ChannelNum & 0x1f);
}














void
uDMAChannelDisable(uint32_t ui32ChannelNum)
{
    
    
    
    ;

    
    
    
    (*((volatile uint32_t *)(0x400FF02C))) = 1 << (ui32ChannelNum & 0x1f);
}














_Bool
uDMAChannelIsEnabled(uint32_t ui32ChannelNum)
{
    
    
    
    ;

    
    
    
    
    return(((*((volatile uint32_t *)(0x400FF028))) & (1 << (ui32ChannelNum & 0x1f))) ? 1 :
           0);
}





















void
uDMAControlBaseSet(void *psControlTable)
{
    
    
    
    ;

    ;

    
    
    
    (*((volatile uint32_t *)(0x400FF008))) = (uint32_t)psControlTable;
}












void *
uDMAControlBaseGet(void)
{
    
    
    
    
    return((void *)(*((volatile uint32_t *)(0x400FF008))));
}












void *
uDMAControlAlternateBaseGet(void)
{
    
    
    
    
    return((void *)(*((volatile uint32_t *)(0x400FF00C))));
}





















void
uDMAChannelRequest(uint32_t ui32ChannelNum)
{
    
    
    
    ;

    
    
    
    (*((volatile uint32_t *)(0x400FF014))) = 1 << (ui32ChannelNum & 0x1f);
}























void
uDMAChannelAttributeEnable(uint32_t ui32ChannelNum, uint32_t ui32Attr)
{
    
    
    
    ;
    ;


    
    
    
    
    
    ui32ChannelNum &= 0x1f;

    
    
    
    if(ui32Attr & 0x00000001)
    {
        (*((volatile uint32_t *)(0x400FF018))) = 1 << ui32ChannelNum;
    }

    
    
    
    
    if(ui32Attr & 0x00000002)
    {
        (*((volatile uint32_t *)(0x400FF030))) = 1 << ui32ChannelNum;
    }

    
    
    
    if(ui32Attr & 0x00000004)
    {
        (*((volatile uint32_t *)(0x400FF038))) = 1 << ui32ChannelNum;
    }

    
    
    
    if(ui32Attr & 0x00000008)
    {
        (*((volatile uint32_t *)(0x400FF020))) = 1 << ui32ChannelNum;
    }
}























void
uDMAChannelAttributeDisable(uint32_t ui32ChannelNum, uint32_t ui32Attr)
{
    
    
    
    ;
    ;


    
    
    
    
    
    ui32ChannelNum &= 0x1f;

    
    
    
    if(ui32Attr & 0x00000001)
    {
        (*((volatile uint32_t *)(0x400FF01C))) = 1 << ui32ChannelNum;
    }

    
    
    
    
    if(ui32Attr & 0x00000002)
    {
        (*((volatile uint32_t *)(0x400FF034))) = 1 << ui32ChannelNum;
    }

    
    
    
    if(ui32Attr & 0x00000004)
    {
        (*((volatile uint32_t *)(0x400FF03C))) = 1 << ui32ChannelNum;
    }

    
    
    
    if(ui32Attr & 0x00000008)
    {
        (*((volatile uint32_t *)(0x400FF024))) = 1 << ui32ChannelNum;
    }
}





















uint32_t
uDMAChannelAttributeGet(uint32_t ui32ChannelNum)
{
    uint32_t ui32Attr = 0;

    
    
    
    ;

    
    
    
    
    
    ui32ChannelNum &= 0x1f;

    
    
    
    if((*((volatile uint32_t *)(0x400FF018))) & (1 << ui32ChannelNum))
    {
        ui32Attr |= 0x00000001;
    }

    
    
    
    if((*((volatile uint32_t *)(0x400FF030))) & (1 << ui32ChannelNum))
    {
        ui32Attr |= 0x00000002;
    }

    
    
    
    if((*((volatile uint32_t *)(0x400FF038))) & (1 << ui32ChannelNum))
    {
        ui32Attr |= 0x00000004;
    }

    
    
    
    if((*((volatile uint32_t *)(0x400FF020))) & (1 << ui32ChannelNum))
    {
        ui32Attr |= 0x00000008;
    }

    
    
    
    return(ui32Attr);
}

















































void
uDMAChannelControlSet(uint32_t ui32ChannelStructIndex, uint32_t ui32Control)
{
    tDMAControlTable *psCtl;

    
    
    
    ;
    ;

    
    
    
    
    
    ui32ChannelStructIndex &= 0x3f;

    
    
    
    psCtl = (tDMAControlTable *)(*((volatile uint32_t *)(0x400FF008)));

    
    
    
    
    psCtl[ui32ChannelStructIndex].ui32Control =
        ((psCtl[ui32ChannelStructIndex].ui32Control &
          ~(0xC0000000 |
            0x30000000 |
            0x0C000000 |
            0x03000000 |
            0x0003C000 |
            0x00000008)) |
         ui32Control);
}






































































void
uDMAChannelTransferSet(uint32_t ui32ChannelStructIndex, uint32_t ui32Mode,
                       void *pvSrcAddr, void *pvDstAddr,
                       uint32_t ui32TransferSize)
{
    tDMAControlTable *psControlTable;
    uint32_t ui32Control;
    uint32_t ui32Inc;
    uint32_t ui32BufferBytes;

    
    
    
    ;
    ;
    ;
    ;
    ;
    ;

    
    
    
    
    
    ui32ChannelStructIndex &= 0x3f;

    
    
    
    psControlTable = (tDMAControlTable *)(*((volatile uint32_t *)(0x400FF008)));

    
    
    
    
    ui32Control = (psControlTable[ui32ChannelStructIndex].ui32Control &
                   ~(0x00003FF0 | 0x00000007));

    
    
    
    if(ui32ChannelStructIndex & 0x00000020)
    {
        if((ui32Mode == 0x00000004) ||
           (ui32Mode == 0x00000006))
        {
            ui32Mode |= 0x00000001;
        }
    }

    
    
    
    
    ui32Control |= ui32Mode | ((ui32TransferSize - 1) << 4);

    
    
    
    ui32Inc = (ui32Control & 0x0C000000);

    
    
    
    
    
    if(ui32Inc != 0x0c000000)
    {
        ui32Inc = ui32Inc >> 26;
        ui32BufferBytes = ui32TransferSize << ui32Inc;
        pvSrcAddr = (void *)((uint32_t)pvSrcAddr + ui32BufferBytes - 1);
    }

    
    
    
    psControlTable[ui32ChannelStructIndex].pvSrcEndAddr = pvSrcAddr;

    
    
    
    
    ui32Inc = ui32Control & 0xC0000000;

    
    
    
    
    
    if(ui32Inc != 0xc0000000)
    {
        
        
        
        
        
        
        if((ui32Mode == 0x00000004) ||
           (ui32Mode == 0x00000006))
        {
            pvDstAddr =
                (void *)&psControlTable[ui32ChannelStructIndex |
                                        0x00000020].ui32Spare;
        }
        
        
        
        else
        {
            ui32Inc = ui32Inc >> 30;
            ui32BufferBytes = ui32TransferSize << ui32Inc;
            pvDstAddr = (void *)((uint32_t)pvDstAddr + ui32BufferBytes - 1);
        }
    }

    
    
    
    psControlTable[ui32ChannelStructIndex].pvDstEndAddr = pvDstAddr;

    
    
    
    psControlTable[ui32ChannelStructIndex].ui32Control = ui32Control;
}

























void
uDMAChannelScatterGatherSet(uint32_t ui32ChannelNum, uint32_t ui32TaskCount,
                            void *pvTaskList, uint32_t ui32IsPeriphSG)
{
    tDMAControlTable *psControlTable;
    tDMAControlTable *psTaskTable;

    
    
    
    ;
    ;
    ;
    ;
    ;

    
    
    
    
    
    ui32ChannelNum &= 0x1f;

    
    
    
    psControlTable = (tDMAControlTable *)(*((volatile uint32_t *)(0x400FF008)));

    
    
    
    psTaskTable = (tDMAControlTable *)pvTaskList;

    
    
    
    
    psControlTable[ui32ChannelNum].pvSrcEndAddr =
        &psTaskTable[ui32TaskCount - 1].ui32Spare;

    
    
    
    
    psControlTable[ui32ChannelNum].pvDstEndAddr =
        &psControlTable[ui32ChannelNum | 0x00000020].ui32Spare;

    
    
    
    
    
    
    psControlTable[ui32ChannelNum].ui32Control =
        (0x80000000 | 0x20000000 |
         0x08000000 | 0x02000000 |
         0x00008000 |
         (((ui32TaskCount * 4) - 1) << 4) |
         (ui32IsPeriphSG ? 0x00000006 :
          0x00000004));

    
    
    
    
    
    
    
    (*((volatile uint32_t *)(0x400FF034))) = 1 << ui32ChannelNum;
}

















uint32_t
uDMAChannelSizeGet(uint32_t ui32ChannelStructIndex)
{
    tDMAControlTable *psControlTable;
    uint32_t ui32Control;

    
    
    
    ;
    ;

    
    
    
    
    
    ui32ChannelStructIndex &= 0x3f;

    
    
    
    psControlTable = (tDMAControlTable *)(*((volatile uint32_t *)(0x400FF008)));

    
    
    
    
    ui32Control = (psControlTable[ui32ChannelStructIndex].ui32Control &
                   (0x00003FF0 | 0x00000007));

    
    
    
    
    if(ui32Control == 0)
    {
        return(0);
    }

    
    
    
    
    else
    {
        
        
        
        return((ui32Control >> 4) + 1);
    }
}


















uint32_t
uDMAChannelModeGet(uint32_t ui32ChannelStructIndex)
{
    tDMAControlTable *psControlTable;
    uint32_t ui32Control;

    
    
    
    ;
    ;

    
    
    
    
    
    ui32ChannelStructIndex &= 0x3f;

    
    
    
    psControlTable = (tDMAControlTable *)(*((volatile uint32_t *)(0x400FF008)));

    
    
    
    ui32Control = (psControlTable[ui32ChannelStructIndex].ui32Control &
                   0x00000007);

    
    
    
    if(((ui32Control & ~0x00000001) ==
        0x00000004) ||
       ((ui32Control & ~0x00000001) == 0x00000006))
    {
        ui32Control &= ~0x00000001;
    }

    
    
    
    return(ui32Control);
}





























void
uDMAIntRegister(uint32_t ui32IntChannel, void (*pfnHandler)(void))
{
    
    
    
    ;

    
    
    
    IntRegister(ui32IntChannel, pfnHandler);

    
    
    
    IntEnable(ui32IntChannel);
}


















void
uDMAIntUnregister(uint32_t ui32IntChannel)
{
    
    
    
    IntDisable(ui32IntChannel);

    
    
    
    IntUnregister(ui32IntChannel);
}




















uint32_t
uDMAIntStatus(void)
{
    
    
    
    return((*((volatile uint32_t *)(0x400FF504))));
}




















void
uDMAIntClear(uint32_t ui32ChanMask)
{
    
    
    
    (*((volatile uint32_t *)(0x400FF504))) = ui32ChanMask;
}

























void
uDMAChannelAssign(uint32_t ui32Mapping)
{
    uint32_t ui32MapReg;
    uint_fast8_t ui8MapShift;
    uint_fast8_t ui8ChannelNum;

    
    
    
    ;

    
    
    
    ui8ChannelNum = ui32Mapping & 0xff;
    ui32Mapping = ui32Mapping >> 16;

    
    
    
    
    ui32MapReg = 0x400FF510 + (uint32_t)((ui8ChannelNum / 8) * 4);
    ui8MapShift = (ui8ChannelNum % 8) * 4;

    
    
    
    (*((volatile uint32_t *)(ui32MapReg))) = ((*((volatile uint32_t *)(ui32MapReg))) & ~(0xf << ui8MapShift)) |
                        ui32Mapping << ui8MapShift;
}


























































void
uDMAChannelSelectSecondary(uint32_t ui32SecPeriphs)
{
    
    
    
    (*((volatile uint32_t *)(0x400FF500))) |= ui32SecPeriphs;
}

















































void
uDMAChannelSelectDefault(uint32_t ui32DefPeriphs)
{
    
    
    
    (*((volatile uint32_t *)(0x400FF500))) &= ~ui32DefPeriphs;
}








